<!DOCTYPE html>
<html lang="pl">
<head>
        <title>Jakub Olczyk | Blog (około) informatyczny…</title>
    <link rel="stylesheet" type="text/css" href="/theme/css/styles.css"/>
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml" />
    <meta charset="utf-8" />
    <link href="/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Jakub Olczyk Full RSS Feed" />

    <meta name="keywords" content="vagrant, installing vagrant-libvirt, debian sid, libvirt, debian" />
</head>

<body id="index" class="home">
    <header id="banner" class="body">
            <h1><a class="sitetitle nodec" href="/">Jakub Olczyk</a></h1>
            <p> przemyślenia (około) informatyczne… </p>
    </header><!-- /#banner -->
    <nav id="menu"><ul>
        <li class="active"><a href="/category/blog.html">blog</a></li>
        <li><a href="/pages/o-mnie.html">o mnie</a></li>
        <li><a href="/pages/kontakt.html">kontakt</a></li>
    </ul></nav><!-- /#menu -->
    <hr>
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="/installing-vagrant-libvirt-debian-stretch-sid-en.html" rel="bookmark"
         title="Permalink to Installing vagrant-libvirt in Debian stretch/sid">Installing vagrant-libvirt in Debian stretch/sid</a></h2>
 
  </header>
  <footer class="post-info">
    <abbr class="published" title="2016-01-24T10:00:00+01:00">
      Sun 24 January 2016
    </abbr>
    <address class="vcard author">
      By           <a class="url fn" href="/author/jakub-olczyk.html">Jakub Olczyk</a>
    </address>
  </footer><!-- /.post-info -->

  <article>
    <p>Vagrant is an awesome piece of software when you want to develop something
without littering your system with (potentially) unwanted packages.</p>
<p>Although great it has one major flaw -- it uses VirtualBox as default provider
for virtualization. That is the main reason why I wanted to try out
<code>vagrant-libvirt</code> plugin that provides it with native kernel virtualization
support.</p>
<p>Unfortunately, the standard way of installing software (i.e. with <code>apt</code>) is
impossible yet I had to use vagrant-style of install and, boy, it was tough!</p>
<p>Installing with</p>
<div class="highlight"><pre><span></span>vagrant plugin install vagrant-libvirt
</pre></div>


<p>thrown compilation errors for plugin dependency <code>ruby-libvirt</code> (which provides
ruby bindings for libvirt).</p>
<p>After searching and reading quite a few issues on <a href="https://github.com/mitchellh/vagrant/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+is%3Aopen+">Vagrant's</a> and
<a href="https://github.com/pradels/vagrant-libvirt/issues/403"><code>vagrant-libvirt</code></a> GitHub page one I found a working solution.</p>
<h2>The solution</h2>
<ol>
<li>Install all required dependencies!</li>
</ol>
<div class="highlight"><pre><span></span><span class="gp">#</span> apt-get install libxslt-dev libxml2-dev libvirt-dev zlib1g-dev
</pre></div>


<ol>
<li>Issue the command with pointers to proper libraries</li>
</ol>
<div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nv">CONFIGURE_ARGS</span><span class="o">=</span><span class="s2">&quot;with-libvirt-include=/usr/include/libvirt with-libvirt-lib=/usr/lib&quot;</span> vagrant plugin install vagrant-libvirt   
</pre></div>


<p>This worked for me. If it doesn't work for you I suggest searching in issues on
projects bug trackers.</p>
<h2>Sources</h2>
<ul>
<li><a href="https://github.com/pradels/vagrant-libvirt"><code>vagrant-libvirt</code> GitHub</a></li>
<li><a href="https://www.vagrantup.com/docs/">Vagrant Docs (somewhat lacking source, I hope in future it will be restructured)</a></li>
<li><a href="https://wiki.archlinux.org/index.php/Vagrant">Vagrant on ArchWiki (helped me with understanding the nature of the problem)</a></li>
</ul>
  </article>
</section>
<hr>
<section id="comment-section">
    <p>Brak komentarzy.<p>
<br>
<br>
<a id="comment-button" href="mailto:jakub.olczyk+blog@openmailbox.org?subject=[blog]comment-installing-vagrant-libvirt-debian-stretch-sid&body=date:YYYY-MM-DD HH:MM:SS%0D%0Aauthor:%0D%0ATwój komentarz">Napisz komentarz przez e-mail</a>
</section>
    <footer>
      <hr>
      <p>
      <a href="/feeds/all-en.rss.xml">RSS feed (en)</a> |
      <a href="/feeds/all-pl.rss.xml">RSS feed (pl)</a> |
      <a href="/sitemap.xml">Sitemap</a> |
 
      <a href="mailto:jakub.olczyk+blog@openmailbox.org">Contact</a>  
      </p>
      <hr>
      <p>
        2015-2016 © Jakub Olczyk, license <a href="http://creativecommons.org/licenses/by-sa/4.0/"> Creative Commons BY-SA 4.0 International</a>
		unless otherwise noted.<br>
        Generated by <a href= "http://docs.getpelican.com/">Pelican</a> with <a href="#not-ready">Mannheim</a> theme.
		Code blocks styled with <a href="https://github.com/uraimo/pygments-vimstyles">wombat.css</a>
      </p>
    </footer>
</body>
</html>